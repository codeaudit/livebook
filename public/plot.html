<html>
<head>
  <link href="style.css" rel="stylesheet" type="text/css" />

  <script src="/ace-editor/ace.js"></script>
  <script src="/d3/d3.min.js"></script>

  <script src="/app.js"></script>
</head>

<body>

  <div id="code">
    <div id="editor">data = csv.read('people.csv');
histogram(data.age);
</div>
  </div>

  <div id="plot"></div>

  <div id="data"></div>

  <script>
    // initialize ace editor
    var editor = ace.edit("editor");
    editor.getSession().setMode("ace/mode/javascript");
    editor.getSession().getSelection().selectionLead.setPosition(2, 0); // cursor at end

    // load data from CSV
    d3.csv("people.csv", function(data) {
      console.log(data[0]);
      tabulate(data, ['name','age','sex']);
    });
  </script>

</body>
</html>
